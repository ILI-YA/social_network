{"version":3,"sources":["components/NavBar/NavBar.module.css","components/Friends/FriendsItem/FriendsItem.jsx","components/Friends/Friends.jsx","components/NavBar/NavBar.jsx","components/Footer/Footer.jsx","components/Header/Header.jsx","components/Header/HeaderContainer.jsx","redux/reducers/app-reducers.js","hoc/withSuspense.js","App.js","redux/reducers/sidebar-reducer.js","redux/redux-store.js","index.js","redux/reducers/auth-reducers.js","assets/images/user.png","assets/images/preloader.svg","components/common/Preloader/Preloader.js","components/Header/Header.module.css","redux/reducers/profile-reducer.js","redux/reducers/dialogs-reducer.js","api/api.js","utilits/object-helpers.js","redux/reducers/users-reducers.js","components/Friends/Friends.module.css","components/Friends/FriendsItem/FriendsItem.module.css","components/Footer/Footer.module.css","components/common/Preloader/Preloader.module.css"],"names":["module","exports","FriendsItem","props","className","s","avatar","src","userPhoto","alt","name","Friends","item","NavBar","nav","to","activeClassName","activeLink","Footer","footer","Header","header","loginBlock","isAuth","login","onClick","logout","HeaderContainer","this","React","Component","connect","state","auth","INITIALIZED_SUCCESS","initialState","initialized","appReducer","action","type","withSuspense","Suspense","fallback","Preloader","DialogsContainer","lazy","ProfileContainer","UsersContainer","Music","News","Settings","Login","App","initializeApp","path","exact","render","app","dispatch","promise","getAuthUserData","Promise","all","then","sidebarReducer","reducers","combineReducers","profilePage","profileReducer","dialogsPage","dialogsReducer","sidebar","usersPage","usersReducer","authReducer","form","formReducer","store","createStore","applyMiddleware","thunkMiddleware","ReactDOM","document","getElementById","SET_USER_DATA","GET_CAPTCHA_URL_SUCCESS","userId","email","captchaUrl","setAuthUserData","payload","getCaptchaUrlSuccess","a","authAPI","me","response","data","resultCode","id","password","rememberMe","captcha","getCaptchaUrl","message","messages","length","stopSubmit","_error","securityAPI","url","color","preloader","ADD_POST","SET_USER_PROFILE","SET_STATUS","DELETE_POST","SAVE_PHOTO_SUCCESS","posts","likeCounts","profile","status","addPostActionCreator","newPostText","setStatus","getUserProfile","usersAPI","getProfile","getStatus","profileAPI","updateStatus","savePhoto","file","photos","saveProfile","getState","reject","newPost","filter","p","postId","ADD_MESSAGE","dialogs","addMessageActionCreator","newMessageBody","newText","instance","axios","withCredentials","baseURL","headers","getUsers","currentPage","pageSize","get","unfollow","delete","follow","post","console","warn","put","photoFile","formData","FormData","append","updateObjectInArray","items","itemId","objPropName","newObjProps","map","u","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","users","totalUsersCount","isFetching","followingInProgress","followSuccess","unfollowSuccess","setCurrentPage","toggleIsFetching","toggleFollowingProgress","requestUsers","page","totalCount","count","followUnfollowFlow","apiMethod","actionCreator","bind","followed"],"mappings":"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","file":"static/js/main.c151892c.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"NavBar_nav__1FWUI\",\"item\":\"NavBar_item__2RAQQ\",\"activeLink\":\"NavBar_activeLink__W7BJ4\",\"avatar\":\"NavBar_avatar__2QNy-\"};","import React from 'react';\nimport s from './FriendsItem.module.css';\nimport userPhoto from '../../../assets/images/user.png';\n\n\nconst FriendsItem = (props) => {\n    return (\n        <div className={s.avatar}>\n            <img src={userPhoto} alt='avatar' />\n            { props.name }\n\n            <img src={userPhoto} alt='avatar' />\n            { props.name }\n\n            <img src={userPhoto} alt='avatar' />\n            { props.name }\n        </div>\n    )\n}\n\nexport default FriendsItem;","import React from 'react';\nimport s from './Friends.module.css';\nimport FriendsItem from './FriendsItem/FriendsItem';\n\nconst Friends = () => {\n\n//let nameFriends = props.state.friends.map( n => <FriendsItem id={n.id} name={n.name}/>);\n    \n    return (\n        <div className={s.item}>\n            {/* { nameFriends } */}\n            <FriendsItem />\n        </div>\n    )\n};\n\nexport default Friends;\n\n","import React from 'react'\nimport { NavLink } from 'react-router-dom'\nimport Friends from './../Friends/Friends'\nimport s from './NavBar.module.css'\n\n\nconst NavBar = (props) => {\n   \n    return (\n        <nav className={s.nav}>\n            <div className={s.item}>\n                <NavLink to=\"/profile\" activeClassName={s.activeLink}>Profile</NavLink>\n            </div>\n            <div className={s.item}>\n                <NavLink to=\"/dialogs\" activeClassName={s.activeLink}>Message</NavLink>\n            </div>\n            <div className={s.item}>\n                <NavLink to=\"/users\" activeClassName={s.activeLink}>Users</NavLink>\n            </div>\n            <div className={s.item}>\n                <NavLink to=\"/music\" activeClassName={s.activeLink}>Music</NavLink>\n            </div>\n            <div className={s.item}>\n                <NavLink to=\"/news\" activeClassName={s.activeLink}>News</NavLink>\n            </div>\n            <div className={s.item}>\n                <NavLink to=\"/settings\" activeClassName={s.activeLink}>Settings</NavLink>\n            </div>\n            <div className={s.item}>\n                <NavLink to=\"/friends\" activeClassName={s.activeLink}>Friends</NavLink>\n                <Friends />\n            </div>\n        </nav>\n    )\n}\n\nexport default NavBar;","import React from 'react'\nimport s from './Footer.module.css'\n\nconst Footer = () => {\n    return (\n        <footer className={s.footer}>\n            <p>Friendly Chat &copy; 2021</p>\n        </footer>\n    )\n}\n\nexport default Footer;","import React from 'react'\nimport { NavLink } from 'react-router-dom';\nimport s from './Header.module.css'\n\nconst Header = (props) => {\n    return (\n        <header className={s.header}>\n            <h1>FC</h1>  \n            <div className={s.loginBlock}>\n                { props.isAuth \n                ? <div>{ props.login } - <button onClick={props.logout}>Log out</button></div> \n                : <NavLink to={'/login'}>Login</NavLink> }\n            </div>           \n        </header>\n    )\n}\n\nexport default Header;","import React from 'react';\nimport { connect } from 'react-redux';\nimport Header from './Header';\nimport { logout } from '../../redux/reducers/auth-reducers';\n\n\n\nclass HeaderContainer extends React.Component {\n    render() {\n        return <Header {...this.props} />\n    }\n}\n\nconst mapStateToProps = (state) => ({ \n    isAuth: state.auth.isAuth,\n    login: state.auth.login\n });\n\nexport default connect(mapStateToProps, { logout }) (HeaderContainer);","import { getAuthUserData } from \"./auth-reducers\";\n\nconst INITIALIZED_SUCCESS = 'app/INITIALIZED_SUCCESS'; \n\n\nlet initialState = {\n    initialized: false\n};\n\nconst appReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case INITIALIZED_SUCCESS:\n            return {\n                ...state,\n                initialized: true\n            }\n        default:\n            return state;\n    }\n};\n\nexport const initializedSuccess = () => ({ type: INITIALIZED_SUCCESS });\n\nexport const initializeApp = () => (dispatch) => {\n    let promise = dispatch(getAuthUserData());\n    Promise.all([promise])\n        .then(() => {\n            dispatch(initializedSuccess());\n        })\n};\n\nexport default appReducer;","import React from 'react';\nimport Preloader from '../components/common/Preloader/Preloader';\n\nexport const withSuspense = (Component) => {\n    return (props) => {\n        return <React.Suspense fallback={<Preloader />} >\n            <Component {...props}/>\n            </React.Suspense>\n    }\n}","import React from 'react';\nimport {BrowserRouter as Switch, Route, Redirect } from 'react-router-dom';\nimport NavBar from './components/NavBar/NavBar';\nimport Footer from './components/Footer/Footer';\nimport './App.css';\nimport HeaderContainer from './components/Header/HeaderContainer';\nimport { connect } from 'react-redux';\nimport { initializeApp } from './redux/reducers/app-reducers';\nimport Preloader from './components/common/Preloader/Preloader';\nimport { withSuspense } from './hoc/withSuspense';\n\nconst DialogsContainer = React.lazy( () => import('./components/Dialogs/DialogsContainer') );\nconst ProfileContainer = React.lazy( () => import('./components/Profile/ProfileContainer') );\nconst UsersContainer = React.lazy( () => import('./components/Users/UsersContainer') );\nconst Music = React.lazy( () => import('./components/Music/Music') );\nconst News = React.lazy( () => import('./components/News/News') );\nconst Settings = React.lazy( () => import('./components/Settings/Settings') );\nconst Login = React.lazy( () => import('./components/Login/Login') );\n\n\n\nclass App extends React.Component{\n  componentDidMount() {\n    this.props.initializeApp();\n  }\n\n  render(){\n    if (!this.props.initialized) {\n      return <Preloader />\n    }\n    return (\n      <div className=\"App\">\n        <Switch>\n  \n          <Route path=\"/\" exact>\n              <Redirect to=\"/profile\" />\n          </Route>\n  \n          <div className=\"container\">\n                <HeaderContainer />\n                <NavBar />\n                <div className=\"content\">\n                  <Route path=\"/profile/:userId?\" \n                          render={withSuspense(ProfileContainer)}/>\n                  <Route path=\"/dialogs\" \n                          render={withSuspense(DialogsContainer)} />\n                  <Route path=\"/users\" render={withSuspense(UsersContainer)} />\n                  <Route path=\"/music\" render={withSuspense(Music)} />\n                  <Route path=\"/news\" render={withSuspense(News)} />\n                  <Route path=\"/settings\" render={withSuspense(Settings)} />\n                  <Route path=\"/login\" render={withSuspense(Login)} />\n  \n                  {/* <Route path=\"/friends\" render={ () => <Friends /> } />  */}\n                </div>\n                <Footer />\n          </div> \n  \n        </Switch>\n      </div>\n    );\n  }\n}  \n\nconst mapStateToProps = (state) => ({\n  initialized: state.app.initialized\n})\n\nexport default connect(mapStateToProps, { initializeApp }) (App);\n","let initialState = {};\n\nconst sidebarReducer = (state = initialState, action) => {\n\n    return state;\n}\n\nexport default sidebarReducer;","import { applyMiddleware, combineReducers, createStore } from \"redux\";\nimport profileReducer from './reducers/profile-reducer';\nimport dialogsReducer from './reducers/dialogs-reducer';\nimport sidebarReducer from './reducers/sidebar-reducer';\nimport usersReducer from \"./reducers/users-reducers\";\nimport authReducer from \"./reducers/auth-reducers\";\nimport thunkMiddleware from 'redux-thunk';\nimport { reducer as formReducer } from 'redux-form';\nimport appReducer from \"./reducers/app-reducers\";\n\n\nlet reducers = combineReducers({\n    profilePage: profileReducer,\n    dialogsPage: dialogsReducer,\n    sidebar: sidebarReducer,\n    usersPage: usersReducer,\n    auth: authReducer,\n    form: formReducer,\n    app: appReducer\n});\n\nlet store = createStore(reducers, applyMiddleware(thunkMiddleware));\n\nexport default store;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport store from './redux/redux-store';\nimport { Provider } from 'react-redux';\nimport { HashRouter } from 'react-router-dom';\n\nReactDOM.render(\n    <HashRouter>\n        <Provider store={store} >\n            <App />\n        </Provider>\n    </HashRouter>,\n    document.getElementById('root')\n);","import { stopSubmit } from \"redux-form\";\nimport { authAPI, securityAPI } from \"../../api/api\";\n\nconst SET_USER_DATA = 'auth/SET_USER_DATA';\nconst GET_CAPTCHA_URL_SUCCESS = 'auth/GET_CAPTCHA_URL_SUCCESS'; \n\n\nlet initialState = {\n    userId: null,\n    email: null,\n    login: null,\n    isAuth: false,\n    captchaUrl: null     // if null, then captcha is not required\n};\n\nconst authReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case SET_USER_DATA:\n        case GET_CAPTCHA_URL_SUCCESS:\n            return {\n                ...state,\n                ...action.payload\n            }    \n        default:\n            return state;\n    }\n};\n\nexport const setAuthUserData = (userId, email, login, isAuth) => ({ type: SET_USER_DATA, payload: {userId, email, login, isAuth} });\nexport const getCaptchaUrlSuccess = (captchaUrl) => ({ type: GET_CAPTCHA_URL_SUCCESS, payload: {captchaUrl} });\n\n\nexport const getAuthUserData = () => async (dispatch) => {\n    let response = await authAPI.me();\n    if (response.data.resultCode === 0) {\n        let { id, email, login } = response.data.data;\n        dispatch(setAuthUserData(id, email, login, true));\n    }\n}\n\nexport const login = (email, password, rememberMe, captcha) => async (dispatch) => {\n    let response = await authAPI.login(email, password, rememberMe, captcha);\n    if (response.data.resultCode === 0) {\n        dispatch(getAuthUserData())\n    } else {\n        if (response.data.resultCode === 10) {\n            dispatch(getCaptchaUrl());\n        }\n        let message = response.data.messages.length > 0 ? response.data.messages[0] : 'Some Error';\n        dispatch(stopSubmit('login', {_error: message}));\n    }\n}\n\nexport const logout = () => async (dispatch) => {\n    let response = await authAPI.logout();\n    if (response.data.resultCode === 0) {\n        dispatch(setAuthUserData(null, null, null, false));\n    }\n}\n\nexport const getCaptchaUrl = () => async (dispatch) => {\n    const response = await securityAPI.getCaptchaUrl();\n    const captchaUrl = response.data.url\n    dispatch(getCaptchaUrlSuccess(captchaUrl));\n}\n\n\nexport default authReducer;","export default __webpack_public_path__ + \"static/media/user.2fda6558.png\";","export default __webpack_public_path__ + \"static/media/preloader.ff85086e.svg\";","import React from 'react';\nimport preloader from '../../../assets/images/preloader.svg';\nimport s from './Preloader.module.css';\n\nlet Preloader = (props) => {\n    return <img className={s.color} src={preloader} alt='preloader' />\n}\n\nexport default Preloader;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1VCKf\",\"loginBlock\":\"Header_loginBlock__6mma5\"};","import { stopSubmit } from \"redux-form\";\nimport { profileAPI, usersAPI } from \"../../api/api\";\n\nconst ADD_POST = 'profile/ADD-POST'; \nconst SET_USER_PROFILE = 'profile/SET_USER_PROFILE';\nconst SET_STATUS = 'profile/SET_STATUS';\nconst DELETE_POST = 'profile/DELETE_POST';\nconst SAVE_PHOTO_SUCCESS = 'profile/SAVE_PHOTO_SUCCESS';\n\nlet initialState = {\n    posts: [\n        {id: 1, message: 'Hi, how are you?', likeCounts: '15'},\n        {id: 2, message: 'Good!', likeCounts: '9'},\n        {id: 3, message: 'What are you doing?', likeCounts: '10'},\n    ],\n    profile: null,\n    status: ''\n};\n\nconst profileReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case ADD_POST: {\n            let newPost = {\n                id: 4,\n                message: action.newPostText,\n                likeCounts: 0\n            };\n            return {\n                ...state,\n                posts: [...state.posts, newPost]\n            };\n        }\n        case SET_USER_PROFILE: {\n            return {\n                ...state,\n                profile: action.profile\n            }\n        }\n        case SET_STATUS: {\n            return {\n                ...state,\n                status: action.status\n            }\n        }\n        case DELETE_POST: {\n            return {\n                ...state,\n                posts: state.posts.filter(p => p.id !== action.postId)\n            }\n        }\n        case SAVE_PHOTO_SUCCESS: {\n            return {\n                ...state,\n                profile: {...state.profile, photos: action.photos}\n            }\n        }\n\n        default:\n            return state;\n    }\n};\n\nexport const addPostActionCreator = (newPostText) => ({ type: ADD_POST, newPostText });\nexport const setUserProfile = (profile) => ({ type: SET_USER_PROFILE, profile });\nexport const setStatus = (status) => ({ type: SET_STATUS, status });\nexport const deletePost = (postId) => ({ type: DELETE_POST, postId });\nexport const savePhotoSuccess = (photos) => ({ type: SAVE_PHOTO_SUCCESS, photos });\n\n\nexport const getUserProfile = (userId) => async (dispatch) => {\n        let response = await usersAPI.getProfile(userId);\n        dispatch(setUserProfile(response.data));\n}\n\nexport const getStatus = (userId) => async (dispatch) => {\n    let response = await profileAPI.getStatus(userId);\n    dispatch(setStatus(response.data));\n}\n\nexport const updateStatus = (status) => async (dispatch) => {\n    let response = await profileAPI.updateStatus(status);\n    if (response.data.resultCode === 0) {\n        dispatch(setStatus(status));\n    }\n}\n\nexport const savePhoto = (file) => async (dispatch) => {\n    let response = await profileAPI.savePhoto(file);\n    if (response.data.resultCode === 0) {\n        dispatch(savePhotoSuccess(response.data.data.photos));\n    }\n}\n\nexport const saveProfile = (profile) => async (dispatch, getState) => {\n    const userId = getState().auth.userId;\n    const response = await profileAPI.saveProfile(profile);\n    if (response.data.resultCode === 0) {\n        dispatch(getUserProfile(userId));\n    } else {\n        dispatch(stopSubmit('edit-profile', {_error: response.data.messages[0]}))  //{'contacts': {'facebook': response.data.messages[0]} }))\n        return Promise.reject(response.data.messages[0]);\n    }\n}\n\n\nexport default profileReducer;","const ADD_MESSAGE = 'dialogs/ADD-MESSAGE';\n\nlet initialState = {\n    messages: [\n        {id: 1, message: 'Hi!'},\n        {id: 2, message: 'How are you?'},\n        {id: 3, message: 'Good!'},\n    ],\n    dialogs: [\n        {id:1, name: 'Illia'},\n        {id:2, name: 'Ivan'},\n        {id:3, name: 'Sasha'},\n    ]\n};\n\nconst dialogsReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case ADD_MESSAGE:\n            let newText = {\n                id: 4,\n                message: action.newMessageBody\n            };\n            return {\n                ...state,\n                messages: [...state.messages, newText]\n            };\n        default:\n            return state;\n    }\n};\n\nexport const addMessageActionCreator = (newMessageBody) => ({ type: ADD_MESSAGE, newMessageBody });\n\n\nexport default dialogsReducer;","import * as axios from \"axios\";\n\nlet instance = axios.create({\n    withCredentials: true,\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\n    headers: {\n        'API-KEY': '1c5335d2-3d94-4faf-abf7-02bff099afe1'\n    } \n});\n\nexport const usersAPI = {\n    getUsers(currentPage = 1, pageSize = 10) {\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`);\n    },\n    unfollow(userId) {\n        return instance.delete(`follow/${userId}`);\n    }, \n    follow(userId) {\n        return instance.post(`follow/${userId}`);\n    }, \n    getProfile(userId) {\n        console.warn('Obsolete method. Please profileAPI object.')\n        return profileAPI.getProfile(userId);\n    }\n};\n\nexport const profileAPI = {\n    getProfile(userId) {\n        return instance.get(`profile/${userId}`);\n    },\n    getStatus(userId) {\n        return instance.get(`/profile/status/${userId}`); \n    },\n    updateStatus(status) {\n        return instance.put(`profile/status`, {status: status}); \n    },\n    savePhoto(photoFile) {\n        const formData = new FormData();\n        formData.append('image', photoFile);\n        return instance.put(`profile/photo`, formData, {\n            headers: {\n                'Content-Type': 'multipart/form-data'\n            }\n        }); \n    }, \n    saveProfile(profile) {\n        return instance.put(`profile`, profile); \n    }\n}\n\nexport const authAPI = {\n    me() {\n        return instance.get(`auth/me`);\n    },\n    login(email, password, rememberMe = false, captcha = null) {\n        return instance.post(`auth/login`, {email, password, rememberMe, captcha});\n    },\n    logout() {\n        return instance.delete(`auth/login`);\n    }\n}\n\nexport const securityAPI = {\n    getCaptchaUrl() {\n        return instance.get(`security/get-captcha-url`);\n    }\n}\n\n\n","export const updateObjectInArray = (items, itemId, objPropName, newObjProps) => {\n    return items.map(u => {\n        if (u[objPropName] === itemId) {\n            return {...u, ...newObjProps}\n        }\n        return u;\n    });\n}","import { usersAPI } from \"../../api/api\";\nimport { updateObjectInArray } from \"../../utilits/object-helpers\";\n\nconst FOLLOW = 'user/FOLLOW'; \nconst UNFOLLOW = 'user/UNFOLLOW';\nconst SET_USERS = 'user/SET_USERS';\nconst SET_CURRENT_PAGE = 'user/SET_CURRENT_PAGE';\nconst SET_TOTAL_USERS_COUNT = 'user/SET_TOTAL_USERS_COUNT';\nconst TOGGLE_IS_FETCHING = 'user/TOGGLE_IS_FETCHING';\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'user/TOGGLE_IS_FOLLOWING_PROGRESS';\n\n\nlet initialState = {\n    users: [ ],\n    pageSize: 10,\n    totalUsersCount: 0,\n    currentPage: 1,\n    isFetching: false,\n    followingInProgress: []\n};\n\nconst usersReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case FOLLOW:\n            return {\n                ...state,\n                users: updateObjectInArray(state.users, action.userId, 'id', {followed: true})\n            }\n\n        case UNFOLLOW:\n            return {\n                ...state,\n                users: updateObjectInArray(state.users, action.userId, 'id', {followed: false})\n            }\n\n        case SET_USERS:\n            return {...state, users: action.users}\n\n        case SET_CURRENT_PAGE:\n            return {...state, currentPage: action.currentPage}\n\n        case SET_TOTAL_USERS_COUNT:\n            return {...state, totalUsersCount: action.count}\n        \n        case TOGGLE_IS_FETCHING:\n            return {...state, isFetching: action.isFetching}\n\n        case TOGGLE_IS_FOLLOWING_PROGRESS:\n            return {\n                ...state, \n                followingInProgress: action.isFetching \n                ? [...state.followingInProgress, action.userId]\n                : state.followingInProgress.filter(id => id !== action.userId)\n            }\n    \n    \n        default:\n            return state;\n    }\n};\n\nexport const followSuccess = (userId) => ({ type: FOLLOW, userId });\nexport const unfollowSuccess = (userId) => ({ type: UNFOLLOW, userId });\nexport const setUsers = (users) => ({ type: SET_USERS, users});\nexport const setCurrentPage = (currentPage) => ({ type: SET_CURRENT_PAGE, currentPage });\nexport const setTotalUsersCount = (totalUsersCount) => ({ type: SET_TOTAL_USERS_COUNT, count: totalUsersCount });\nexport const toggleIsFetching = (isFetching) => ({ type: TOGGLE_IS_FETCHING, isFetching });\nexport const toggleFollowingProgress = (isFetching, userId) => ({ type: TOGGLE_IS_FOLLOWING_PROGRESS, isFetching, userId });\n\nexport const requestUsers = (page, pageSize) => {\n    return async (dispatch) => {\n        dispatch(toggleIsFetching(true));\n        dispatch(setCurrentPage(page));\n\n        let response = await usersAPI.getUsers(page, pageSize);\n        dispatch(toggleIsFetching(false));\n        dispatch(setUsers(response.data.items));\n        dispatch(setTotalUsersCount(response.data.totalCount));\n    }\n}\n\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\n    dispatch(toggleFollowingProgress(true, userId));\n    let response = await apiMethod(userId);\n    if (response.data.resultCode === 0) {\n        dispatch(actionCreator(userId)); \n    }\n    dispatch(toggleFollowingProgress(false, userId));\n}\n\nexport const follow = (userId) => {\n    return async (dispatch) => {\n        followUnfollowFlow(dispatch, userId, usersAPI.follow.bind(usersAPI), followSuccess);\n    }\n}\n\nexport const unfollow = (userId) => {\n    return async (dispatch) => {\n        followUnfollowFlow(dispatch, userId, usersAPI.unfollow.bind(usersAPI), unfollowSuccess);\n    }    \n}\n\n\nexport default usersReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Friends_item__1dHUF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"avatar\":\"FriendsItem_avatar__2u_e_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"footer\":\"Footer_footer__1w0lV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"color\":\"Preloader_color__3wFOk\"};"],"sourceRoot":""}